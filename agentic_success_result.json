{
  "name": "MkDocs Publisher",
  "description": "A simple action to build an MkDocs site and push it to the gh-pages branch. Should be easy to use.",
  "author": "DevRel Team",
  "inputs": {
    "python-version": {
      "description": "The version of Python to set up for building.",
      "required": false
    },
    "requirements-file": {
      "description": "Path to the Python requirements file",
      "required": true
    },
    "gh-token": {
      "description": "GitHub token for deployment.",
      "required": true
    }
  },
  "outputs": {
    "page-url": {
      "description": "The URL of the deployed GitHub Pages site."
    }
  },
  "runs": {
    "using": "composite",
    "steps": [
      "Checkout Code: First, we need the repository code. Use the standard actions/checkout@v4.",
      "Setup Python: Next, set up the Python environment. Use actions/setup-python@v5. We must use the python-version input provided by the user here. Let's ID this step as setup_python.",
      "Install Dependencies: Run a command to install the Python packages. The command is pip install -r ${{ inputs.requirements-file }}. Execute this using the bash shell. Maybe give this step the name \"Install Python Packages\".",
      "Build Site: Run the command mkdocs build. Use bash for this too.",
      "Deploy to Pages: Use an existing action for the deployment. peaceiris/actions-gh-pages@v3 seems popular. Give this step the ID deploy. We need to configure it: Set its github_token parameter to the gh-token input we defined earlier. Set its publish_dir parameter to ./site (which is the default build output dir for MkDocs). Maybe add a condition (if:) github.ref == 'refs/heads/main' so it only deploys from the main branch."
    ]
  },
  "branding": {
    "color": "blue",
    "icon": "book-open"
  }
}
